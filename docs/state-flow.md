# ğŸŒ State-flow.md

> ì´ ë¬¸ì„œëŠ” ì „ì—­ ìƒíƒœ ê´€ë¦¬ íë¦„ì„ ì„¤ëª…í•˜ë©°, `ClusterContext`ì™€ `PathContext`ì˜ êµ¬ì¡° ë° ì—­í• ì„ ë¬¸ì„œí™”í•©ë‹ˆë‹¤.

---

## ğŸ§  ì „ì—­ ìƒíƒœ ì»¨í…ìŠ¤íŠ¸ ìš”ì•½

| Context ì´ë¦„      | ì£¼ìš” ìƒíƒœ ë³€ìˆ˜      | ì„¤ëª…                                  |
|------------------|--------------------|---------------------------------------|
| `ClusterContext` | `data`, `ratio`    | í´ëŸ¬ìŠ¤í„°ë§ ê²°ê³¼ ë° ì¢…ëª©ë³„ ë¹„ì¤‘ ìƒíƒœ ê´€ë¦¬ |
| `PathContext`    | `currentPath`      | í˜„ì¬ í˜ì´ì§€ ê²½ë¡œ ìƒíƒœ ê´€ë¦¬ (íƒ­ ì´ë™ ë“±) |

---

## ğŸ”· ClusterContext

```jsx
import { ClusterProvider, useCluster } from '../contexts/ClusterContext';
```


### ğŸ’¾ ìƒíƒœ ë³€ìˆ˜
| ë³€ìˆ˜ ì´ë¦„   | íƒ€ì…                                         | ì„¤ëª…                    |
| ------- | ------------------------------------------ | --------------------- |
| `data`  | `object` \| `null`                         | í´ëŸ¬ìŠ¤í„°ë§ ê²°ê³¼ ë°ì´í„° (PCA í¬í•¨) |
| `ratio` | `Array<{ symbol: string, ratio: number }>` | ì¢…ëª©ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘          |

### ğŸ”§ í•¨ìˆ˜
| í•¨ìˆ˜ ì´ë¦„         | ì„¤ëª…                                           |
| ------------- | -------------------------------------------- |
| `setData`     | í´ëŸ¬ìŠ¤í„°ë§ ê²°ê³¼(PCA ë“±) ìƒíƒœ ì„¤ì •                        |
| `setRatio`    | ë¹„ìœ¨ ìƒíƒœ ì§ì ‘ ì„¤ì • (ì´ˆê¸°í™” ë˜ëŠ” ì¼ê´„ ì—…ë°ì´íŠ¸ ì‹œ ì‚¬ìš©)            |
| `updateRatio` | ê°œë³„ ì¢…ëª©ì˜ ë¹„ìœ¨ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ìƒˆë¡œ ì¶”ê°€ (ë™ì¼ symbol ì¡´ì¬ ì‹œ ë®ì–´ì“°ê¸°) |

```jsx
const { data, ratio, setData, updateRatio } = useCluster();
updateRatio('AAPL', 15.5);
```

## ğŸ”¶ PathContext
```jsx
import { PathProvider, usePath } from '../contexts/PathContext';
```

### ğŸ’¾ ìƒíƒœ ë³€ìˆ˜
| ë³€ìˆ˜ ì´ë¦„         | íƒ€ì…       | ì„¤ëª…                                     |
| ------------- | -------- | -------------------------------------- |
| `currentPath` | `string` | í˜„ì¬ í™œì„±í™”ëœ í˜ì´ì§€ ê²½ë¡œ (ì˜ˆ: `/home`, `/result`) |


### ğŸ”§ í•¨ìˆ˜
| í•¨ìˆ˜ ì´ë¦„            | ì„¤ëª…                    |
| ---------------- | --------------------- |
| `setCurrentPath` | í˜„ì¬ í˜ì´ì§€ ê²½ë¡œ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ |

```jsx
const { currentPath, setCurrentPath } = usePath();
setCurrentPath('/setup');
```


## ğŸ§© êµ¬ì¡°ë„
```jsx
<App>
 â”œâ”€ <PathProvider>
 â”‚    â””â”€ <ClusterProvider>
 â”‚         â””â”€ ì „ì²´ í˜ì´ì§€ íŠ¸ë¦¬ (Page, Layout, Components...)
 ```
